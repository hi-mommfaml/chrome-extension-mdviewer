![](icon128.png)

# mdviewer

## - Markdown Viewer for Chrome -

ローカルやWeb上のMarkdownファイルを、Chromeブラウザ上で美しく整形されたHTMLとしてプレビューできる拡張機能です。
GitHub風のスタイルをベースに、目次やテーマ切り替えなどの便利な機能を追加しています。

## 主な機能

- **Markdownプレビュー**: `marked.js` を使用した高速かつ正確なレンダリング。
- **GitHub風デザイン**: `github-markdown-css` を採用し、読みやすいスタイルを提供。
- **目次 (TOC)**: ページ構成を解析し、画面右側にサイドバーとして目次を自動生成します（レスポンシブ対応）。
- **テーマ切り替え**: ライトモードとダークモードをボタン一つで切り替え可能。設定はブラウザに記憶されます。
- **コードコピー**: コードブロックに「Copy」ボタンを自動的に追加し、簡単にクリップボードへコピーできます。
- **リンク情報拡張**: PDFやMarkdownファイルへのリンクに、自動で `[pdf]` などの拡張子ラベルを付与して視認性を向上させます。
- **画像表示サポート**: ローカルファイルの画像や、ファイル名にスペースを含む画像も正しく表示されるよう最適化されています。
- **ローカルファイルの自動更新**: ファイルを保存するとブラウザを自動的にリロードします（スクロール位置を維持）。

## インストール方法（開発者モード・手動）

現状はストア公開されていないため、以下の手順で手動インストールします。

1. このプロジェクトの `mdviewer` フォルダをお手元に用意します。
2. Chromeブラウザを開き、アドレスバーに `chrome://extensions` と入力して移動します。
3. 画面右上の **「デベロッパーモード」** スイッチをONにします。
4. **「パッケージ化されていない拡張機能を読み込む」** ボタンをクリックします。
5. 用意した `mdviewer` フォルダを選択して読み込みます。

## 使い方

1. Chromeで `.md` または `.markdown` ファイルを開きます。
   - Web上のファイルはリンクをクリックするだけで自動変換されます。
   - ローカルファイル (`file://...`) はドラッグ＆ドロップで開くことができます。

> [!IMPORTANT]  
> **ローカルファイルを表示する場合の設定**  
> ローカルのMarkdownファイルを表示するには、Chromeの拡張機能管理画面 (`chrome://extensions`) で、この拡張機能の「詳細」を開き、**「ファイルの URL へのアクセスを許可する」** のスイッチをONにする必要があります。これを行わないと、**ファイルの表示や自動更新機能が正しく動作しません。**

2. **操作**:
   - **目次ジャンプ**: 右側のサイドバーのリンクをクリックすると、該当セクションへスクロールします。
   - **テーマ変更**: 画面右上のアイコン（☀️ または 🌙）をクリックしてテーマを切り替えます。
   - **コードコピー**: コードブロック右上の `Copy` ボタンをクリックします。

## 使用ライブラリ

- [marked.js](https://github.com/markedjs/marked) (Markdown parser)
- [github-markdown-css](https://github.com/sindresorhus/github-markdown-css) (Style)

## ライセンス

[Apache License 2.0](LICENSE)
